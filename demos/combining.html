<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Composite Selectors &mdash; soupsavvy  documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
      <link rel="stylesheet" type="text/css" href="../_static/css/custom.css?v=acd973c5" />

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js?v=5d32c60e"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../_static/documentation_options.js?v=5929fcd5"></script>
        <script src="../_static/doctools.js?v=9a2dae69"></script>
        <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="CSS Selectors" href="css.html" />
    <link rel="prev" title="Selectors" href="selectors.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            soupsavvy
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Components</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../soupsavvy.selectors.html">selectors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../soupsavvy.models.html">models</a></li>
<li class="toctree-l1"><a class="reference internal" href="../soupsavvy.operations.html">operations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../soupsavvy.testing.html">testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../soupsavvy.operators.html">operators</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Demos</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="about.html">About</a></li>
<li class="toctree-l1"><a class="reference internal" href="showcase.html">Showcase</a></li>
<li class="toctree-l1"><a class="reference internal" href="selectors.html">Selectors</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Composite Selectors</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#combinators">Combinators</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#operators">Operators</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#multiple-selectors">Multiple Selectors</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#combinators-equality">Combinators Equality</a></li>
<li class="toctree-l3"><a class="reference internal" href="#non-recursive">Non-Recursive</a></li>
<li class="toctree-l3"><a class="reference internal" href="#combining-combinators">Combining Combinators</a></li>
<li class="toctree-l3"><a class="reference internal" href="#precedence-caveats">Precedence Caveats</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id1">Combining Combinators</a></li>
<li class="toctree-l3"><a class="reference internal" href="#descendantcombinator">DescendantCombinator</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2">DescendantCombinator</a></li>
<li class="toctree-l3"><a class="reference internal" href="#childcombinator">ChildCombinator</a></li>
<li class="toctree-l3"><a class="reference internal" href="#nextsiblingcombinator">NextSiblingCombinator</a></li>
<li class="toctree-l3"><a class="reference internal" href="#subsequentsiblingcombinator">SubsequentSiblingCombinator</a></li>
<li class="toctree-l3"><a class="reference internal" href="#parentcombinator">ParentCombinator</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ancestorcombinator">AncestorCombinator</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#logical-selectors">Logical Selectors</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#equality">Equality</a></li>
<li class="toctree-l3"><a class="reference internal" href="#andselector">AndSelector</a></li>
<li class="toctree-l3"><a class="reference internal" href="#selectorlist">SelectorList</a></li>
<li class="toctree-l3"><a class="reference internal" href="#notselector">NotSelector</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id3">Multiple Selectors</a></li>
<li class="toctree-l3"><a class="reference internal" href="#xorselector">XORSelector</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#relative-selectors">Relative Selectors</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#anchor">Anchor</a></li>
<li class="toctree-l3"><a class="reference internal" href="#relative-siblings">Relative Siblings</a></li>
<li class="toctree-l3"><a class="reference internal" href="#recursivity">Recursivity</a></li>
<li class="toctree-l3"><a class="reference internal" href="#hasselector">HasSelector</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#default-recursive-search">Default Recursive Search</a></li>
<li class="toctree-l4"><a class="reference internal" href="#siblings-search">Siblings Search</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ancestors-search">Ancestors Search</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#nth-selectors">Nth Selectors</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#nthofselector">NthOfSelector</a></li>
<li class="toctree-l3"><a class="reference internal" href="#nthlastofselector">NthLastOfSelector</a></li>
<li class="toctree-l3"><a class="reference internal" href="#onlyofselector">OnlyOfSelector</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#operators-module">Operators module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#conclusion">Conclusion</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="css.html">CSS Selectors</a></li>
<li class="toctree-l1"><a class="reference internal" href="testing.html">Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="models.html">Models</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">soupsavvy</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Composite Selectors</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/demos/combining.ipynb.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="composite-selectors">
<h1>Composite Selectors<a class="headerlink" href="#composite-selectors" title="Link to this heading"></a></h1>
<p>Composite selectors allow you to combine multiple selectors into one for more refined search criteria.<br />
Various ways of combining selectors are described in this tutorial.</p>
<section id="combinators">
<h2>Combinators<a class="headerlink" href="#combinators" title="Link to this heading"></a></h2>
<p>Inspired by CSS, <strong>Combinators</strong> in <code class="docutils literal notranslate"><span class="pre">soupsavvy</span></code> allow you to define relationship between multiple selectors.<br />
For more information on CSS combinators, you can refer to <a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/CSS/Child_combinator">Mozilla</a>.</p>
<section id="operators">
<h3>Operators<a class="headerlink" href="#operators" title="Link to this heading"></a></h3>
<p>Combinators can be created using operators as a more concisely alternative. Each combinator has a corresponding operator that defines relationship between two selectors.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">Combinator</span><span class="p">(</span><span class="n">left</span><span class="p">,</span> <span class="n">right</span><span class="p">)</span> <span class="o">==</span> <span class="n">left</span> <span class="p">{</span><span class="n">operator</span><span class="p">}</span> <span class="n">right</span>
</pre></div>
</div>
<p>For example, the <code class="docutils literal notranslate"><span class="pre">&gt;&gt;</span></code> operator can be used as a shorthand for <code class="docutils literal notranslate"><span class="pre">DescendantCombinator</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">DescendantCombinator</span><span class="p">(</span><span class="n">left</span><span class="p">,</span> <span class="n">right</span><span class="p">)</span> <span class="o">==</span> <span class="n">left</span> <span class="o">&gt;&gt;</span> <span class="n">right</span>
</pre></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span>

<span class="kn">from</span> <span class="nn">soupsavvy</span> <span class="kn">import</span> <span class="n">ClassSelector</span>

<span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        &lt;p class=&quot;price&quot;&gt;Price: $30&lt;/p&gt;</span>
<span class="sd">        &lt;div class=&quot;book&quot;&gt;</span>
<span class="sd">            &lt;span class=&quot;title&quot;&gt;Animal Farm&lt;/span&gt;</span>
<span class="sd">            &lt;span class=&quot;price_section&quot;&gt;</span>
<span class="sd">                &lt;p class=&quot;price&quot;&gt;Price: $20&lt;/p&gt;</span>
<span class="sd">            &lt;/span&gt;</span>
<span class="sd">        &lt;/div&gt;</span>
<span class="sd">    &quot;&quot;&quot;</span><span class="p">,</span>
    <span class="n">features</span><span class="o">=</span><span class="s2">&quot;lxml&quot;</span><span class="p">,</span>
<span class="p">)</span>

<span class="n">selector</span> <span class="o">=</span> <span class="n">ClassSelector</span><span class="p">(</span><span class="s2">&quot;book&quot;</span><span class="p">)</span> <span class="o">&gt;&gt;</span> <span class="n">ClassSelector</span><span class="p">(</span><span class="s2">&quot;price&quot;</span><span class="p">)</span>
<span class="n">selector</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">soup</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;p class=&quot;price&quot;&gt;Price: $20&lt;/p&gt;
</pre></div>
</div>
</div>
</div>
<section id="multiple-selectors">
<h4>Multiple Selectors<a class="headerlink" href="#multiple-selectors" title="Link to this heading"></a></h4>
<p>Combinators allow you to chain any number of selectors, when they are passed as positional arguments.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">Combinator</span><span class="p">(</span><span class="n">first</span><span class="p">,</span> <span class="n">second</span><span class="p">,</span> <span class="n">third</span><span class="p">)</span>
</pre></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span>

<span class="kn">from</span> <span class="nn">soupsavvy</span> <span class="kn">import</span> <span class="n">ClassSelector</span><span class="p">,</span> <span class="n">DescendantCombinator</span><span class="p">,</span> <span class="n">IdSelector</span>

<span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        &lt;p class=&quot;price&quot;&gt;Price: $30&lt;/p&gt;</span>
<span class="sd">        &lt;div class=&quot;book&quot;&gt;</span>
<span class="sd">            &lt;span class=&quot;title&quot;&gt;Animal Farm&lt;/span&gt;</span>
<span class="sd">            &lt;p class=&quot;price&quot;&gt;Price: $10&lt;/p&gt;</span>
<span class="sd">        &lt;/div&gt;</span>
<span class="sd">        &lt;div id=&quot;available&quot;&gt;</span>
<span class="sd">            &lt;div class=&quot;book&quot;&gt;</span>
<span class="sd">                &lt;span class=&quot;title&quot;&gt;Animal Farm&lt;/span&gt;</span>
<span class="sd">                &lt;span class=&quot;price_section&quot;&gt;</span>
<span class="sd">                    &lt;p class=&quot;price&quot;&gt;Price: $20&lt;/p&gt;</span>
<span class="sd">                &lt;/span&gt;</span>
<span class="sd">            &lt;/div&gt;</span>
<span class="sd">        &lt;/div&gt;</span>
<span class="sd">    &quot;&quot;&quot;</span><span class="p">,</span>
    <span class="n">features</span><span class="o">=</span><span class="s2">&quot;lxml&quot;</span><span class="p">,</span>
<span class="p">)</span>

<span class="n">selector</span> <span class="o">=</span> <span class="n">DescendantCombinator</span><span class="p">(</span>
    <span class="n">IdSelector</span><span class="p">(</span><span class="s2">&quot;available&quot;</span><span class="p">),</span>
    <span class="n">ClassSelector</span><span class="p">(</span><span class="s2">&quot;book&quot;</span><span class="p">),</span>
    <span class="n">ClassSelector</span><span class="p">(</span><span class="s2">&quot;price&quot;</span><span class="p">),</span>
<span class="p">)</span>
<span class="n">selector</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">soup</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;p class=&quot;price&quot;&gt;Price: $20&lt;/p&gt;
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="combinators-equality">
<h3>Combinators Equality<a class="headerlink" href="#combinators-equality" title="Link to this heading"></a></h3>
<p>Two combinators are considered equal only if they are of the same type and contain the exact same selectors in the same order. The order of selectors is significant:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">left</span> <span class="p">{</span><span class="n">operator</span><span class="p">}</span> <span class="n">right</span> <span class="o">!=</span> <span class="n">right</span> <span class="p">{</span><span class="n">operator</span><span class="p">}</span> <span class="n">left</span>
</pre></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">soupsavvy</span> <span class="kn">import</span> <span class="n">ClassSelector</span>

<span class="n">book_selector</span> <span class="o">=</span> <span class="n">ClassSelector</span><span class="p">(</span><span class="s2">&quot;book&quot;</span><span class="p">)</span>
<span class="n">price_selector</span> <span class="o">=</span> <span class="n">ClassSelector</span><span class="p">(</span><span class="s2">&quot;price&quot;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span>
    <span class="s2">&quot;left &gt;&gt; right == right &gt;&gt; left:&quot;</span><span class="p">,</span>
    <span class="n">price_selector</span> <span class="o">&gt;&gt;</span> <span class="n">book_selector</span> <span class="o">==</span> <span class="n">book_selector</span> <span class="o">&gt;&gt;</span> <span class="n">price_selector</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>left &gt;&gt; right == right &gt;&gt; left: False
</pre></div>
</div>
</div>
</div>
</section>
<section id="non-recursive">
<h3>Non-Recursive<a class="headerlink" href="#non-recursive" title="Link to this heading"></a></h3>
<p>For combinators, setting <code class="docutils literal notranslate"><span class="pre">recursive=False</span></code> ensures that elements are returned only if the element matched by the first selector is a direct child of the searched element.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span>

<span class="kn">from</span> <span class="nn">soupsavvy</span> <span class="kn">import</span> <span class="n">ClassSelector</span>

<span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        &lt;p class=&quot;price&quot;&gt;Price: $30&lt;/p&gt;</span>
<span class="sd">        &lt;span class=&quot;not_child_book&quot;&gt;</span>
<span class="sd">            &lt;div class=&quot;book&quot;&gt;</span>
<span class="sd">                &lt;span class=&quot;title&quot;&gt;Animal Farm&lt;/span&gt;</span>
<span class="sd">                &lt;span class=&quot;price_section&quot;&gt;</span>
<span class="sd">                    &lt;p class=&quot;price&quot;&gt;Price: $50&lt;/p&gt;</span>
<span class="sd">                &lt;/span&gt;</span>
<span class="sd">            &lt;/div&gt;</span>
<span class="sd">        &lt;/span&gt;</span>
<span class="sd">        &lt;div class=&quot;book&quot;&gt;</span>
<span class="sd">            &lt;span class=&quot;title&quot;&gt;Animal Farm&lt;/span&gt;</span>
<span class="sd">            &lt;span class=&quot;price_section&quot;&gt;</span>
<span class="sd">                &lt;p class=&quot;price&quot;&gt;Price: $20&lt;/p&gt;</span>
<span class="sd">            &lt;/span&gt;</span>
<span class="sd">        &lt;/div&gt;</span>
<span class="sd">    &quot;&quot;&quot;</span><span class="p">,</span>
    <span class="n">features</span><span class="o">=</span><span class="s2">&quot;html.parser&quot;</span><span class="p">,</span>
<span class="p">)</span>

<span class="n">selector</span> <span class="o">=</span> <span class="n">ClassSelector</span><span class="p">(</span><span class="s2">&quot;book&quot;</span><span class="p">)</span> <span class="o">&gt;&gt;</span> <span class="n">ClassSelector</span><span class="p">(</span><span class="s2">&quot;price&quot;</span><span class="p">)</span>
<span class="n">selector</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">soup</span><span class="p">,</span> <span class="n">recursive</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;p class=&quot;price&quot;&gt;Price: $20&lt;/p&gt;
</pre></div>
</div>
</div>
</div>
</section>
<section id="combining-combinators">
<h3>Combining Combinators<a class="headerlink" href="#combining-combinators" title="Link to this heading"></a></h3>
<p>Combinators can be combined to replicate complex CSS relationships, like:</p>
<div class="highlight-css notranslate"><div class="highlight"><pre><span></span><span class="p">#</span><span class="nn">available</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="nt">div</span><span class="w"> </span><span class="p">.</span><span class="nc">price</span>
</pre></div>
</div>
<p>This is achieved using <code class="docutils literal notranslate"><span class="pre">ChildCombinator</span></code> and <code class="docutils literal notranslate"><span class="pre">DescendantCombinator</span></code> together.</p>
</section>
<section id="precedence-caveats">
<h3>Precedence Caveats<a class="headerlink" href="#precedence-caveats" title="Link to this heading"></a></h3>
<p>Note, that some operators have higher precedence than others, which can affect the order in which expressions are evaluated.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">left</span> <span class="o">&gt;</span> <span class="n">middle</span> <span class="o">&gt;&gt;</span> <span class="n">right</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">&gt;&gt;</span></code> (DescendantCombinator) takes precedence over <code class="docutils literal notranslate"><span class="pre">&gt;</span></code> (ChildCombinator), resulting in:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">ChildCombinator</span><span class="p">(</span><span class="n">left</span><span class="p">,</span> <span class="n">DescendantCombinator</span><span class="p">(</span><span class="n">middle</span><span class="p">,</span> <span class="n">right</span><span class="p">))</span>
</pre></div>
</div>
<p>Use parentheses to adjust precedence as needed.</p>
</section>
<section id="id1">
<h3>Combining Combinators<a class="headerlink" href="#id1" title="Link to this heading"></a></h3>
<p>Combinators can be combined to replicate complex CSS relationships, like:</p>
<p><strong>CSS Example:</strong></p>
<div class="highlight-css notranslate"><div class="highlight"><pre><span></span><span class="p">#</span><span class="nn">available</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="nt">div</span><span class="w"> </span><span class="p">.</span><span class="nc">price</span>
</pre></div>
</div>
<p>This is achieved with using <code class="docutils literal notranslate"><span class="pre">ChildCombinator</span></code> and <code class="docutils literal notranslate"><span class="pre">DescendantCombinator</span></code> together.</p>
<p><strong>Caveat:</strong></p>
<p>Note, that some operators have higher precedence than others, which can affect the order in which expressions are evaluated.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">left</span> <span class="o">&gt;</span> <span class="n">middle</span> <span class="o">&gt;&gt;</span> <span class="n">right</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">&gt;&gt;</span></code> operator takes precedence over <code class="docutils literal notranslate"><span class="pre">&gt;</span></code>, resulting in:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">ChildCombinator</span><span class="p">(</span><span class="n">left</span><span class="p">,</span> <span class="n">DescendantCombinator</span><span class="p">(</span><span class="n">middle</span><span class="p">,</span> <span class="n">right</span><span class="p">))</span>
</pre></div>
</div>
<p>Use parentheses to adjust the expression as needed.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span>

<span class="kn">from</span> <span class="nn">soupsavvy</span> <span class="kn">import</span> <span class="n">ClassSelector</span><span class="p">,</span> <span class="n">IdSelector</span><span class="p">,</span> <span class="n">TypeSelector</span>

<span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        &lt;p class=&quot;price&quot;&gt;Price: $30&lt;/p&gt;</span>
<span class="sd">        &lt;div&gt;</span>
<span class="sd">            &lt;span class=&quot;title&quot;&gt;Animal Farm&lt;/span&gt;</span>
<span class="sd">            &lt;p class=&quot;price&quot;&gt;Price: $10&lt;/p&gt;</span>
<span class="sd">        &lt;/div&gt;</span>
<span class="sd">        &lt;div id=&quot;available&quot;&gt;</span>
<span class="sd">            &lt;div&gt;</span>
<span class="sd">                &lt;span class=&quot;title&quot;&gt;Animal Farm&lt;/span&gt;</span>
<span class="sd">                &lt;span class=&quot;discount&quot;&gt;</span>
<span class="sd">                    &lt;h2&gt;Discounted&lt;/h2&gt;</span>
<span class="sd">                    &lt;p class=&quot;price&quot;&gt;Price: $15&lt;/p&gt;</span>
<span class="sd">                &lt;/span&gt;</span>
<span class="sd">                &lt;p class=&quot;price&quot;&gt;Price: $20&lt;/p&gt;</span>
<span class="sd">            &lt;/div&gt;</span>
<span class="sd">        &lt;/div&gt;</span>
<span class="sd">    &quot;&quot;&quot;</span><span class="p">,</span>
    <span class="n">features</span><span class="o">=</span><span class="s2">&quot;lxml&quot;</span><span class="p">,</span>
<span class="p">)</span>

<span class="n">selector</span> <span class="o">=</span> <span class="p">(</span><span class="n">IdSelector</span><span class="p">(</span><span class="s2">&quot;available&quot;</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">TypeSelector</span><span class="p">(</span><span class="s2">&quot;div&quot;</span><span class="p">))</span> <span class="o">&gt;&gt;</span> <span class="n">ClassSelector</span><span class="p">(</span><span class="s2">&quot;price&quot;</span><span class="p">)</span>
<span class="n">selector</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">soup</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;p class=&quot;price&quot;&gt;Price: $15&lt;/p&gt;
</pre></div>
</div>
</div>
</div>
</section>
<section id="descendantcombinator">
<h3>DescendantCombinator<a class="headerlink" href="#descendantcombinator" title="Link to this heading"></a></h3>
<p>The <strong>Descendant Combinator</strong> is one of the simplest and most frequently used combinators in CSS. It selects elements that match a second selector only if they have an ancestor that matches the first selector. In CSS, this relationship is represented by a single space <code class="docutils literal notranslate"><span class="pre">&quot;</span> <span class="pre">&quot;</span></code> between two selectors. For example, the following CSS:</p>
<div class="highlight-css notranslate"><div class="highlight"><pre><span></span><span class="p">.</span><span class="nc">book</span><span class="w"> </span><span class="p">.</span><span class="nc">price</span>
</pre></div>
</div>
<p>matches all tags with the class <code class="docutils literal notranslate"><span class="pre">price</span></code> that are descendants of tags with the class <code class="docutils literal notranslate"><span class="pre">book</span></code>. For more details on CSS combinators, refer to the <a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/CSS/Descendant_combinator">Mozilla</a>.</p>
</section>
<section id="id2">
<h3>DescendantCombinator<a class="headerlink" href="#id2" title="Link to this heading"></a></h3>
<p>Defines the relationship between two selectors, where the second selector matches the descendant of the element matched by the first selector.</p>
<p><strong>CSS Example:</strong></p>
<div class="highlight-css notranslate"><div class="highlight"><pre><span></span><span class="p">.</span><span class="nc">book</span><span class="w"> </span><span class="p">.</span><span class="nc">price</span>
</pre></div>
</div>
<p><strong>Operator:</strong> <code class="docutils literal notranslate"><span class="pre">&gt;&gt;</span></code></p>
<p><strong>Reference:</strong> <a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/CSS/Descendant_combinator">Mozilla</a></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span>

<span class="kn">from</span> <span class="nn">soupsavvy</span> <span class="kn">import</span> <span class="n">ClassSelector</span>

<span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        &lt;p class=&quot;price&quot;&gt;Price: $30&lt;/p&gt;</span>
<span class="sd">        &lt;div class=&quot;book&quot;&gt;</span>
<span class="sd">            &lt;span class=&quot;title&quot;&gt;Animal Farm&lt;/span&gt;</span>
<span class="sd">            &lt;span class=&quot;price_section&quot;&gt;</span>
<span class="sd">                &lt;p class=&quot;price&quot;&gt;Price: $20&lt;/p&gt;</span>
<span class="sd">            &lt;/span&gt;</span>
<span class="sd">        &lt;/div&gt;</span>
<span class="sd">    &quot;&quot;&quot;</span><span class="p">,</span>
    <span class="n">features</span><span class="o">=</span><span class="s2">&quot;lxml&quot;</span><span class="p">,</span>
<span class="p">)</span>

<span class="n">selector</span> <span class="o">=</span> <span class="n">ClassSelector</span><span class="p">(</span><span class="s2">&quot;book&quot;</span><span class="p">)</span> <span class="o">&gt;&gt;</span> <span class="n">ClassSelector</span><span class="p">(</span><span class="s2">&quot;price&quot;</span><span class="p">)</span>
<span class="n">selector</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">soup</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;p class=&quot;price&quot;&gt;Price: $20&lt;/p&gt;
</pre></div>
</div>
</div>
</div>
</section>
<section id="childcombinator">
<h3>ChildCombinator<a class="headerlink" href="#childcombinator" title="Link to this heading"></a></h3>
<p>Defines the relationship between two selectors, where the second selector matches only the direct children of the element matched by the first selector.</p>
<p><strong>CSS Example:</strong></p>
<div class="highlight-css notranslate"><div class="highlight"><pre><span></span><span class="nt">div</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="p">.</span><span class="nc">price</span>
</pre></div>
</div>
<p><strong>Operator:</strong> <code class="docutils literal notranslate"><span class="pre">&gt;</span></code></p>
<p><strong>Reference:</strong> <a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/CSS/Child_combinator">Mozilla</a></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span>

<span class="kn">from</span> <span class="nn">soupsavvy</span> <span class="kn">import</span> <span class="n">ClassSelector</span><span class="p">,</span> <span class="n">TypeSelector</span>

<span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        &lt;p class=&quot;price&quot;&gt;Price: $30&lt;/p&gt;</span>
<span class="sd">        &lt;div&gt;</span>
<span class="sd">            &lt;span class=&quot;title&quot;&gt;Animal Farm&lt;/span&gt;</span>
<span class="sd">            &lt;span class=&quot;discount&quot;&gt;</span>
<span class="sd">                &lt;h2&gt;Discounted&lt;/h2&gt;</span>
<span class="sd">                &lt;p class=&quot;price&quot;&gt;Price: $15&lt;/p&gt;</span>
<span class="sd">            &lt;/span&gt;</span>
<span class="sd">            &lt;p class=&quot;price&quot;&gt;Price: $20&lt;/p&gt;</span>
<span class="sd">        &lt;/div&gt;</span>
<span class="sd">    &quot;&quot;&quot;</span><span class="p">,</span>
    <span class="n">features</span><span class="o">=</span><span class="s2">&quot;lxml&quot;</span><span class="p">,</span>
<span class="p">)</span>

<span class="n">selector</span> <span class="o">=</span> <span class="n">TypeSelector</span><span class="p">(</span><span class="s2">&quot;div&quot;</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">ClassSelector</span><span class="p">(</span><span class="s2">&quot;price&quot;</span><span class="p">)</span>
<span class="n">selector</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">soup</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;p class=&quot;price&quot;&gt;Price: $20&lt;/p&gt;
</pre></div>
</div>
</div>
</div>
</section>
<section id="nextsiblingcombinator">
<h3>NextSiblingCombinator<a class="headerlink" href="#nextsiblingcombinator" title="Link to this heading"></a></h3>
<p>Defines the relationship between two selectors, where the second selector matches the immediate sibling that directly follows the element matched by the first selector.</p>
<p><strong>CSS Example:</strong></p>
<div class="highlight-css notranslate"><div class="highlight"><pre><span></span><span class="nt">div</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">.</span><span class="nc">price</span>
</pre></div>
</div>
<p><strong>Operator:</strong> <code class="docutils literal notranslate"><span class="pre">+</span></code></p>
<p><strong>Reference:</strong> <a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/CSS/Next-sibling_combinator">Mozilla</a></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span>

<span class="kn">from</span> <span class="nn">soupsavvy</span> <span class="kn">import</span> <span class="n">ClassSelector</span><span class="p">,</span> <span class="n">PatternSelector</span>

<span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        &lt;h2&gt;Discounted&lt;/h2&gt;</span>
<span class="sd">        &lt;span&gt;Unavailable&lt;/span&gt;</span>
<span class="sd">        &lt;p class=&quot;price&quot;&gt;Price: $10&lt;/p&gt;</span>
<span class="sd">        &lt;h1&gt;Discounted&lt;/h1&gt;</span>
<span class="sd">        &lt;p class=&quot;price&quot;&gt;Price: $20&lt;/p&gt;</span>
<span class="sd">    &quot;&quot;&quot;</span><span class="p">,</span>
    <span class="n">features</span><span class="o">=</span><span class="s2">&quot;lxml&quot;</span><span class="p">,</span>
<span class="p">)</span>

<span class="n">selector</span> <span class="o">=</span> <span class="n">PatternSelector</span><span class="p">(</span><span class="s2">&quot;Discounted&quot;</span><span class="p">)</span> <span class="o">+</span> <span class="n">ClassSelector</span><span class="p">(</span><span class="s2">&quot;price&quot;</span><span class="p">)</span>
<span class="n">selector</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">soup</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;p class=&quot;price&quot;&gt;Price: $20&lt;/p&gt;
</pre></div>
</div>
</div>
</div>
</section>
<section id="subsequentsiblingcombinator">
<h3>SubsequentSiblingCombinator<a class="headerlink" href="#subsequentsiblingcombinator" title="Link to this heading"></a></h3>
<p>Defines the relationship between two selectors, where the second selector matches all siblings that follow the element matched by the first selector.</p>
<p><strong>CSS Example:</strong></p>
<div class="highlight-css notranslate"><div class="highlight"><pre><span></span><span class="nt">div</span><span class="w"> </span><span class="o">~</span><span class="w"> </span><span class="p">.</span><span class="nc">price</span>
</pre></div>
</div>
<p><strong>Operator:</strong> <code class="docutils literal notranslate"><span class="pre">~</span></code></p>
<p><strong>Reference:</strong> <a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/CSS/Subsequent-sibling_combinator">Mozilla</a></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span>

<span class="kn">from</span> <span class="nn">soupsavvy</span> <span class="kn">import</span> <span class="n">ClassSelector</span><span class="p">,</span> <span class="n">SubsequentSiblingCombinator</span><span class="p">,</span> <span class="n">TypeSelector</span>

<span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        &lt;p class=&quot;price&quot;&gt;Price: $25&lt;/p&gt;</span>
<span class="sd">        &lt;h2&gt;Discounted&lt;/h2&gt;</span>
<span class="sd">        &lt;span&gt;Bargain!!!&lt;/span&gt;</span>
<span class="sd">        &lt;p class=&quot;price&quot;&gt;Price: $15&lt;/p&gt;</span>
<span class="sd">        &lt;p class=&quot;price&quot;&gt;Price: $10&lt;/p&gt;</span>
<span class="sd">    &quot;&quot;&quot;</span><span class="p">,</span>
    <span class="n">features</span><span class="o">=</span><span class="s2">&quot;lxml&quot;</span><span class="p">,</span>
<span class="p">)</span>

<span class="n">selector</span> <span class="o">=</span> <span class="n">TypeSelector</span><span class="p">(</span><span class="s2">&quot;h2&quot;</span><span class="p">)</span> <span class="o">*</span> <span class="n">ClassSelector</span><span class="p">(</span><span class="s2">&quot;price&quot;</span><span class="p">)</span>
<span class="n">selector</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="n">soup</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&lt;p class=&quot;price&quot;&gt;Price: $15&lt;/p&gt;, &lt;p class=&quot;price&quot;&gt;Price: $10&lt;/p&gt;]
</pre></div>
</div>
</div>
</div>
</section>
<section id="parentcombinator">
<h3>ParentCombinator<a class="headerlink" href="#parentcombinator" title="Link to this heading"></a></h3>
<p>Defines the relationship between two selectors, where the second selector matches all instances of the element that is a parent of the first matched element.</p>
<p><strong>CSS Example:</strong></p>
<div class="highlight-css notranslate"><div class="highlight"><pre><span></span><span class="p">.</span><span class="nc">discount</span><span class="p">:</span><span class="nd">has</span><span class="o">(&gt;</span><span class="w"> </span><span class="nt">p</span><span class="o">)</span>
</pre></div>
</div>
<p><strong>Operator:</strong> <code class="docutils literal notranslate"><span class="pre">&lt;</span></code></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span>

<span class="kn">from</span> <span class="nn">soupsavvy</span> <span class="kn">import</span> <span class="n">ClassSelector</span><span class="p">,</span> <span class="n">TypeSelector</span>

<span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        &lt;p class=&quot;price&quot;&gt;Price: $15&lt;/p&gt;</span>
<span class="sd">        &lt;span class=&quot;book&quot;&gt;</span>
<span class="sd">            &lt;p class=&quot;price&quot;&gt;Price: $25&lt;/p&gt;</span>
<span class="sd">        &lt;/span&gt;</span>
<span class="sd">        &lt;span class=&quot;discount&quot;&gt;&lt;/span&gt;</span>
<span class="sd">        &lt;span class=&quot;discount&quot;&gt;</span>
<span class="sd">            &lt;div&gt;</span>
<span class="sd">                &lt;p class=&quot;price&quot;&gt;Price: $35&lt;/p&gt;</span>
<span class="sd">            &lt;/div&gt;</span>
<span class="sd">        &lt;/span&gt;</span>
<span class="sd">        &lt;span class=&quot;discount&quot;&gt;</span>
<span class="sd">            &lt;p class=&quot;price&quot;&gt;Price: $10&lt;/p&gt;</span>
<span class="sd">        &lt;/span&gt;</span>
<span class="sd">    &quot;&quot;&quot;</span><span class="p">,</span>
    <span class="n">features</span><span class="o">=</span><span class="s2">&quot;lxml&quot;</span><span class="p">,</span>
<span class="p">)</span>

<span class="n">selector</span> <span class="o">=</span> <span class="n">TypeSelector</span><span class="p">(</span><span class="s2">&quot;p&quot;</span><span class="p">)</span> <span class="o">&lt;</span> <span class="n">ClassSelector</span><span class="p">(</span><span class="s2">&quot;discount&quot;</span><span class="p">)</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">selector</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">soup</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="o">.</span><span class="n">prettify</span><span class="p">())</span>  <span class="c1"># type: ignore</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;span class=&quot;discount&quot;&gt;
 &lt;p class=&quot;price&quot;&gt;
  Price: $10
 &lt;/p&gt;
&lt;/span&gt;
</pre></div>
</div>
</div>
</div>
</section>
<section id="ancestorcombinator">
<h3>AncestorCombinator<a class="headerlink" href="#ancestorcombinator" title="Link to this heading"></a></h3>
<p>Defines the relationship between two selectors, where the second selector matches all instances of the element that is an ancestor of the first matched element.</p>
<p><strong>CSS Example:</strong></p>
<div class="highlight-css notranslate"><div class="highlight"><pre><span></span><span class="p">.</span><span class="nc">discount</span><span class="p">:</span><span class="nd">has</span><span class="o">(</span><span class="nt">p</span><span class="o">)</span>
</pre></div>
</div>
<p><strong>Operator:</strong> <code class="docutils literal notranslate"><span class="pre">&lt;&lt;</span></code></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span>

<span class="kn">from</span> <span class="nn">soupsavvy</span> <span class="kn">import</span> <span class="n">ClassSelector</span><span class="p">,</span> <span class="n">TypeSelector</span>

<span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        &lt;p class=&quot;price&quot;&gt;Price: $15&lt;/p&gt;</span>
<span class="sd">        &lt;span class=&quot;book&quot;&gt;</span>
<span class="sd">            &lt;p class=&quot;price&quot;&gt;Price: $25&lt;/p&gt;</span>
<span class="sd">        &lt;/span&gt;</span>
<span class="sd">        &lt;span class=&quot;discount&quot;&gt;&lt;/span&gt;</span>
<span class="sd">        &lt;span class=&quot;discount&quot;&gt;</span>
<span class="sd">            &lt;div&gt;&lt;p class=&quot;price&quot;&gt;Price: $35&lt;/p&gt;&lt;/div&gt;</span>
<span class="sd">        &lt;/span&gt;</span>
<span class="sd">        &lt;span class=&quot;discount&quot;&gt;</span>
<span class="sd">            &lt;p class=&quot;price&quot;&gt;Price: $10&lt;/p&gt;</span>
<span class="sd">        &lt;/span&gt;</span>
<span class="sd">    &quot;&quot;&quot;</span><span class="p">,</span>
    <span class="n">features</span><span class="o">=</span><span class="s2">&quot;lxml&quot;</span><span class="p">,</span>
<span class="p">)</span>

<span class="n">selector</span> <span class="o">=</span> <span class="n">TypeSelector</span><span class="p">(</span><span class="s2">&quot;p&quot;</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="n">ClassSelector</span><span class="p">(</span><span class="s2">&quot;discount&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">element</span><span class="o">.</span><span class="n">prettify</span><span class="p">()</span> <span class="k">for</span> <span class="n">element</span> <span class="ow">in</span> <span class="n">selector</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="n">soup</span><span class="p">)))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;span class=&quot;discount&quot;&gt;
 &lt;div&gt;
  &lt;p class=&quot;price&quot;&gt;
   Price: $35
  &lt;/p&gt;
 &lt;/div&gt;
&lt;/span&gt;

&lt;span class=&quot;discount&quot;&gt;
 &lt;p class=&quot;price&quot;&gt;
  Price: $10
 &lt;/p&gt;
&lt;/span&gt;
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="logical-selectors">
<h2>Logical Selectors<a class="headerlink" href="#logical-selectors" title="Link to this heading"></a></h2>
<p>These selectors allow you to create new selectors by combining multiple selectors using logical operators such as <code class="docutils literal notranslate"><span class="pre">AND</span></code>, <code class="docutils literal notranslate"><span class="pre">OR</span></code>, <code class="docutils literal notranslate"><span class="pre">NOT</span></code>, and <code class="docutils literal notranslate"><span class="pre">XOR</span></code>.</p>
<section id="equality">
<h3>Equality<a class="headerlink" href="#equality" title="Link to this heading"></a></h3>
<p>Logical selectors, unlike combinators, are commutative. This means that the order of selectors within a logical selector does not affect the result.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">first</span> <span class="o">&amp;</span> <span class="n">second</span> <span class="o">==</span> <span class="n">second</span> <span class="o">&amp;</span> <span class="n">first</span>
</pre></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">soupsavvy</span> <span class="kn">import</span> <span class="n">ClassSelector</span>

<span class="n">discount_selector</span> <span class="o">=</span> <span class="n">ClassSelector</span><span class="p">(</span><span class="s2">&quot;discount&quot;</span><span class="p">)</span>
<span class="n">price_selector</span> <span class="o">=</span> <span class="n">ClassSelector</span><span class="p">(</span><span class="s2">&quot;price&quot;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span>
    <span class="s2">&quot;left &amp; right == right &amp; left:&quot;</span><span class="p">,</span>
    <span class="n">discount_selector</span> <span class="o">&amp;</span> <span class="n">price_selector</span> <span class="o">==</span> <span class="n">price_selector</span> <span class="o">&amp;</span> <span class="n">discount_selector</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>left &amp; right == right &amp; left: True
</pre></div>
</div>
</div>
</div>
<p>Additionally, two instances can be considered equal even if they contain a different number of selectors, as long as they represent the same criteria.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">soupsavvy</span> <span class="kn">import</span> <span class="n">AttributeSelector</span><span class="p">,</span> <span class="n">ClassSelector</span><span class="p">,</span> <span class="n">SelectorList</span>

<span class="n">discount_selector</span> <span class="o">=</span> <span class="n">ClassSelector</span><span class="p">(</span><span class="s2">&quot;discount&quot;</span><span class="p">)</span>
<span class="n">price_selector</span> <span class="o">=</span> <span class="n">ClassSelector</span><span class="p">(</span><span class="s2">&quot;price&quot;</span><span class="p">)</span>
<span class="n">another_price_selector</span> <span class="o">=</span> <span class="n">AttributeSelector</span><span class="p">(</span><span class="s2">&quot;class&quot;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;price&quot;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span>
    <span class="n">SelectorList</span><span class="p">(</span><span class="n">discount_selector</span><span class="p">,</span> <span class="n">price_selector</span><span class="p">)</span>
    <span class="o">==</span> <span class="n">SelectorList</span><span class="p">(</span><span class="n">discount_selector</span><span class="p">,</span> <span class="n">price_selector</span><span class="p">,</span> <span class="n">another_price_selector</span><span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>True
</pre></div>
</div>
</div>
</div>
</section>
<section id="andselector">
<h3>AndSelector<a class="headerlink" href="#andselector" title="Link to this heading"></a></h3>
<p><code class="docutils literal notranslate"><span class="pre">AndSelector</span></code> corresponds to the CSS compound selector, which is a concatenation of multiple selectors. It selects elements that match all of the specified selectors.</p>
<p><strong>CSS Example:</strong></p>
<div class="highlight-css notranslate"><div class="highlight"><pre><span></span><span class="nt">p</span><span class="p">.</span><span class="nc">price</span>
</pre></div>
</div>
<p><strong>Operator:</strong> <code class="docutils literal notranslate"><span class="pre">&amp;</span></code></p>
<p><strong>Reference:</strong> <a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_selectors/Selector_structure#compound_selector">Mozilla</a></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span>

<span class="kn">from</span> <span class="nn">soupsavvy</span> <span class="kn">import</span> <span class="n">ClassSelector</span><span class="p">,</span> <span class="n">TypeSelector</span>

<span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        &lt;p class=&quot;title&quot;&gt;Animal Farm&lt;/p&gt;</span>
<span class="sd">        &lt;span class=&quot;price&quot;&gt;Price: $30&lt;/p&gt;</span>
<span class="sd">        &lt;p class=&quot;price&quot;&gt;Price: $20&lt;/p&gt;</span>
<span class="sd">    &quot;&quot;&quot;</span><span class="p">,</span>
    <span class="n">features</span><span class="o">=</span><span class="s2">&quot;lxml&quot;</span><span class="p">,</span>
<span class="p">)</span>

<span class="n">selector</span> <span class="o">=</span> <span class="n">TypeSelector</span><span class="p">(</span><span class="s2">&quot;p&quot;</span><span class="p">)</span> <span class="o">&amp;</span> <span class="n">ClassSelector</span><span class="p">(</span><span class="s2">&quot;price&quot;</span><span class="p">)</span>
<span class="n">selector</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">soup</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;p class=&quot;price&quot;&gt;Price: $20&lt;/p&gt;
</pre></div>
</div>
</div>
</div>
</section>
<section id="selectorlist">
<h3>SelectorList<a class="headerlink" href="#selectorlist" title="Link to this heading"></a></h3>
<p><code class="docutils literal notranslate"><span class="pre">SelectorList</span></code> corresponds to the CSS selector list. It selects elements that match any of the specified selectors.</p>
<p><strong>CSS Example:</strong></p>
<div class="highlight-css notranslate"><div class="highlight"><pre><span></span><span class="nt">h1</span><span class="o">,</span><span class="w"> </span><span class="nt">h2</span>
</pre></div>
</div>
<p><strong>Operator:</strong> <code class="docutils literal notranslate"><span class="pre">|</span></code></p>
<p><strong>Aliases:</strong> <code class="docutils literal notranslate"><span class="pre">OrSelector</span></code></p>
<p><strong>Reference:</strong> <a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/CSS/Selector_list">Mozilla</a></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span>

<span class="kn">from</span> <span class="nn">soupsavvy</span> <span class="kn">import</span> <span class="n">TypeSelector</span>

<span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        &lt;h1&gt;Hello World&lt;/h1&gt;</span>
<span class="sd">        &lt;span&gt;Extra information&lt;/span&gt;</span>
<span class="sd">        &lt;h2&gt;Goodbye World&lt;/h2&gt;</span>
<span class="sd">        &lt;h3&gt;Not interested&lt;/h3&gt;</span>
<span class="sd">    &quot;&quot;&quot;</span><span class="p">,</span>
    <span class="n">features</span><span class="o">=</span><span class="s2">&quot;lxml&quot;</span><span class="p">,</span>
<span class="p">)</span>

<span class="n">selector</span> <span class="o">=</span> <span class="n">TypeSelector</span><span class="p">(</span><span class="s2">&quot;h1&quot;</span><span class="p">)</span> <span class="o">|</span> <span class="n">TypeSelector</span><span class="p">(</span><span class="s2">&quot;h2&quot;</span><span class="p">)</span>
<span class="n">selector</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="n">soup</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&lt;h1&gt;Hello World&lt;/h1&gt;, &lt;h2&gt;Goodbye World&lt;/h2&gt;]
</pre></div>
</div>
</div>
</div>
</section>
<section id="notselector">
<h3>NotSelector<a class="headerlink" href="#notselector" title="Link to this heading"></a></h3>
<p><code class="docutils literal notranslate"><span class="pre">NotSelector</span></code> corresponds to the CSS <code class="docutils literal notranslate"><span class="pre">:not()</span></code> pseudo-class, which excludes elements that match a specified selector. It allows you to select elements that do not meet certain criteria.</p>
<p><strong>CSS Example:</strong></p>
<div class="highlight-css notranslate"><div class="highlight"><pre><span></span><span class="p">:</span><span class="nd">not</span><span class="o">(</span><span class="p">.</span><span class="nc">discount</span><span class="o">)</span>
</pre></div>
</div>
<p><strong>Operator:</strong> <code class="docutils literal notranslate"><span class="pre">~</span></code></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">NotSelector</span><span class="p">(</span><span class="n">selector</span><span class="p">)</span> <span class="o">==</span> <span class="o">~</span><span class="n">selector</span>
</pre></div>
</div>
<p><strong>Reference:</strong> <a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/CSS/:not">Mozilla</a></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span>

<span class="kn">from</span> <span class="nn">soupsavvy</span> <span class="kn">import</span> <span class="n">ClassSelector</span>

<span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        &lt;p class=&quot;price discount&quot;&gt;Price: €10&lt;/p&gt;</span>
<span class="sd">        &lt;p class=&quot;price&quot;&gt;Price: $20&lt;/p&gt;</span>
<span class="sd">    &quot;&quot;&quot;</span><span class="p">,</span>
    <span class="n">features</span><span class="o">=</span><span class="s2">&quot;html.parser&quot;</span><span class="p">,</span>
<span class="p">)</span>

<span class="n">selector</span> <span class="o">=</span> <span class="o">~</span><span class="n">ClassSelector</span><span class="p">(</span><span class="s2">&quot;discount&quot;</span><span class="p">)</span>
<span class="n">selector</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">soup</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;p class=&quot;price&quot;&gt;Price: $20&lt;/p&gt;
</pre></div>
</div>
</div>
</div>
</section>
<section id="id3">
<h3>Multiple Selectors<a class="headerlink" href="#id3" title="Link to this heading"></a></h3>
<p>When more then one selector is passed to <code class="docutils literal notranslate"><span class="pre">NotSelector</span></code>, it selects elements, that do <strong>not</strong> match <strong>any</strong> of them.   Alternatively <code class="docutils literal notranslate"><span class="pre">SelectorList</span></code> can be used to negate multiple selectors:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">NotSelector</span><span class="p">(</span><span class="n">left</span><span class="p">,</span> <span class="n">right</span><span class="p">)</span> <span class="o">==</span> <span class="o">~</span><span class="p">(</span><span class="n">left</span> <span class="o">|</span> <span class="n">right</span><span class="p">)</span>
</pre></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">re</span>

<span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span>

<span class="kn">from</span> <span class="nn">soupsavvy</span> <span class="kn">import</span> <span class="n">ClassSelector</span><span class="p">,</span> <span class="n">NotSelector</span><span class="p">,</span> <span class="n">PatternSelector</span>

<span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        &lt;p class=&quot;price discount&quot;&gt;Price: €10&lt;/p&gt;</span>
<span class="sd">        &lt;p class=&quot;price&quot;&gt;Price: $20&lt;/p&gt;</span>
<span class="sd">        &lt;p class=&quot;price&quot;&gt;Price: €15&lt;/p&gt;</span>
<span class="sd">    &quot;&quot;&quot;</span><span class="p">,</span>
    <span class="n">features</span><span class="o">=</span><span class="s2">&quot;html.parser&quot;</span><span class="p">,</span>
<span class="p">)</span>

<span class="n">discount_selector</span> <span class="o">=</span> <span class="n">ClassSelector</span><span class="p">(</span><span class="s2">&quot;discount&quot;</span><span class="p">)</span>
<span class="n">dollars_selector</span> <span class="o">=</span> <span class="n">PatternSelector</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;\$\d+&quot;</span><span class="p">))</span>
<span class="n">selector</span> <span class="o">=</span> <span class="n">NotSelector</span><span class="p">(</span><span class="n">discount_selector</span><span class="p">,</span> <span class="n">dollars_selector</span><span class="p">)</span>
<span class="n">selector</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">soup</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;p class=&quot;price&quot;&gt;Price: €15&lt;/p&gt;
</pre></div>
</div>
</div>
</div>
</section>
<section id="xorselector">
<h3>XORSelector<a class="headerlink" href="#xorselector" title="Link to this heading"></a></h3>
<p><code class="docutils literal notranslate"><span class="pre">XORSelector</span></code> corresponds to the logical XOR operation on selectors, selecting elements that match exactly one of the provided selectors.</p>
<p><strong>CSS Equivalent:</strong><br />
While CSS does not have a direct counterpart, you can achieve similar results using selector list with <code class="docutils literal notranslate"><span class="pre">:not()</span></code> pseudo-class:</p>
<div class="highlight-css notranslate"><div class="highlight"><pre><span></span><span class="nt">span</span><span class="p">:</span><span class="nd">not</span><span class="o">(</span><span class="p">.</span><span class="nc">discount</span><span class="o">),</span><span class="w"> </span><span class="p">.</span><span class="nc">discount</span><span class="p">:</span><span class="nd">not</span><span class="o">(</span><span class="nt">span</span><span class="o">)</span>
</pre></div>
</div>
<p><strong>Operator:</strong> <code class="docutils literal notranslate"><span class="pre">^</span></code></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span>

<span class="kn">from</span> <span class="nn">soupsavvy</span> <span class="kn">import</span> <span class="n">ClassSelector</span><span class="p">,</span> <span class="n">TypeSelector</span>

<span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        &lt;span class=&quot;discount&quot;&gt;Buy!&lt;/span&gt;</span>
<span class="sd">        &lt;p class=&quot;price&quot;&gt;Price: $10&lt;/p&gt;</span>
<span class="sd">        &lt;span class=&quot;price&quot;&gt;Price: $20&lt;/span&gt;</span>
<span class="sd">        &lt;p class=&quot;discount&quot;&gt;Price: $30&lt;/p&gt;</span>
<span class="sd">    &quot;&quot;&quot;</span><span class="p">,</span>
    <span class="n">features</span><span class="o">=</span><span class="s2">&quot;lxml&quot;</span><span class="p">,</span>
<span class="p">)</span>

<span class="n">selector</span> <span class="o">=</span> <span class="n">ClassSelector</span><span class="p">(</span><span class="s2">&quot;discount&quot;</span><span class="p">)</span> <span class="o">^</span> <span class="n">TypeSelector</span><span class="p">(</span><span class="s2">&quot;span&quot;</span><span class="p">)</span>
<span class="n">selector</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="n">soup</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&lt;span class=&quot;price&quot;&gt;Price: $20&lt;/span&gt;, &lt;p class=&quot;discount&quot;&gt;Price: $30&lt;/p&gt;]
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="relative-selectors">
<h2>Relative Selectors<a class="headerlink" href="#relative-selectors" title="Link to this heading"></a></h2>
<p>Relative selector apart from selection criteria defines relationship with anchor element.</p>
<p>According to <a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_selectors/Selector_structure#relative_selector">Mozilla</a> - relative selectors represent elements in relation to anchor element(s), typically introduced by a combinator.</p>
<p><strong>CSS Example</strong>:</p>
<div class="highlight-css notranslate"><div class="highlight"><pre><span></span><span class="p">.</span><span class="nc">discount</span><span class="p">:</span><span class="nd">has</span><span class="o">(&gt;</span><span class="w"> </span><span class="nt">p</span><span class="o">)</span>
</pre></div>
</div>
<p>In this case, an element of type <code class="docutils literal notranslate"><span class="pre">p</span></code> is in a child-parent relationship with the element of class <code class="docutils literal notranslate"><span class="pre">discount</span></code> (the anchor).</p>
<p>In the context of <code class="docutils literal notranslate"><span class="pre">soupsavvy</span></code>:</p>
<ul class="simple">
<li><p><strong>Anchor Element</strong>: The <code class="docutils literal notranslate"><span class="pre">bs4</span></code> object being searched.</p></li>
<li><p><strong>Relative Element</strong>: Any element that matches the selector and maintains a specified relationship with the anchor element.</p></li>
</ul>
<section id="anchor">
<h3>Anchor<a class="headerlink" href="#anchor" title="Link to this heading"></a></h3>
<p>Alternative way of creating relative selectors is using <code class="docutils literal notranslate"><span class="pre">Anchor</span></code> object and specific operator, that match those used in combinators.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&gt;&gt;</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">RelativeDescendant</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&gt;</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">RelativeChild</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;&lt;</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">RelativeAncestor</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">RelativeParent</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">+</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">RelativeNextSibling</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">*</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">RelativeSubsequentSibling</span></code></p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span>

<span class="kn">from</span> <span class="nn">soupsavvy</span> <span class="kn">import</span> <span class="n">Anchor</span><span class="p">,</span> <span class="n">ClassSelector</span>

<span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        &lt;div&gt;</span>
<span class="sd">            &lt;span&gt;&lt;p class=&quot;price&quot;&gt;Price: $10&lt;/p&gt;&lt;/span&gt;</span>
<span class="sd">            &lt;p class=&quot;price&quot;&gt;Price: $20&lt;/p&gt;</span>
<span class="sd">        &lt;/div&gt;</span>
<span class="sd">    &quot;&quot;&quot;</span><span class="p">,</span>
    <span class="n">features</span><span class="o">=</span><span class="s2">&quot;lxml&quot;</span><span class="p">,</span>
<span class="p">)</span>

<span class="n">selector</span> <span class="o">=</span> <span class="n">Anchor</span> <span class="o">&gt;</span> <span class="n">ClassSelector</span><span class="p">(</span><span class="s2">&quot;price&quot;</span><span class="p">)</span>
<span class="n">selector</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">soup</span><span class="o">.</span><span class="n">div</span><span class="p">)</span>  <span class="c1"># type: ignore</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;p class=&quot;price&quot;&gt;Price: $20&lt;/p&gt;
</pre></div>
</div>
</div>
</div>
</section>
<section id="relative-siblings">
<h3>Relative Siblings<a class="headerlink" href="#relative-siblings" title="Link to this heading"></a></h3>
<p><code class="docutils literal notranslate"><span class="pre">RelativeNextSibling</span></code> and <code class="docutils literal notranslate"><span class="pre">RelativeSubsequentSibling</span></code> are used to select following siblings of the anchor element (element passed to <code class="docutils literal notranslate"><span class="pre">find</span></code> methods).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span>

<span class="kn">from</span> <span class="nn">soupsavvy</span> <span class="kn">import</span> <span class="n">Anchor</span><span class="p">,</span> <span class="n">ClassSelector</span>

<span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        &lt;p class=&quot;title&quot;&gt;Animal Farm&lt;/p&gt;</span>
<span class="sd">        &lt;div class=&quot;section&quot;&gt;Book 1&lt;/div&gt;</span>
<span class="sd">        &lt;p class=&quot;price&quot;&gt;Price: $30&lt;/p&gt;</span>
<span class="sd">        &lt;p class=&quot;discount&quot;&gt;Price: $20&lt;/p&gt;</span>
<span class="sd">        &lt;p class=&quot;price&quot;&gt;Price: $10&lt;/p&gt;</span>
<span class="sd">    &quot;&quot;&quot;</span><span class="p">,</span>
    <span class="n">features</span><span class="o">=</span><span class="s2">&quot;lxml&quot;</span><span class="p">,</span>
<span class="p">)</span>

<span class="n">selector</span> <span class="o">=</span> <span class="n">Anchor</span> <span class="o">+</span> <span class="n">ClassSelector</span><span class="p">(</span><span class="s2">&quot;price&quot;</span><span class="p">)</span>
<span class="n">selector</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="n">soup</span><span class="o">.</span><span class="n">div</span><span class="p">)</span>  <span class="c1"># type: ignore</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&lt;p class=&quot;price&quot;&gt;Price: $30&lt;/p&gt;]
</pre></div>
</div>
</div>
</div>
</section>
<section id="recursivity">
<h3>Recursivity<a class="headerlink" href="#recursivity" title="Link to this heading"></a></h3>
<p>Relative selectors in <code class="docutils literal notranslate"><span class="pre">soupsavvy</span></code> are not affected by the <code class="docutils literal notranslate"><span class="pre">recursive</span></code> parameter. They have their own independent behavior determined by relationship between anchor and relative elements. Below, <code class="docutils literal notranslate"><span class="pre">RelativeDescendant</span></code> relationship takes precedence over <code class="docutils literal notranslate"><span class="pre">recursive</span></code> parameter.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        &lt;div&gt;</span>
<span class="sd">            &lt;span&gt;&lt;p class=&quot;price&quot;&gt;Price: $10&lt;/p&gt;&lt;/span&gt;</span>
<span class="sd">            &lt;p class=&quot;price&quot;&gt;Price: $20&lt;/p&gt;</span>
<span class="sd">        &lt;/div&gt;</span>
<span class="sd">    &quot;&quot;&quot;</span><span class="p">,</span>
    <span class="n">features</span><span class="o">=</span><span class="s2">&quot;lxml&quot;</span><span class="p">,</span>
<span class="p">)</span>

<span class="n">selector</span> <span class="o">=</span> <span class="n">Anchor</span> <span class="o">&gt;&gt;</span> <span class="n">ClassSelector</span><span class="p">(</span><span class="s2">&quot;price&quot;</span><span class="p">)</span>
<span class="n">selector</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">soup</span><span class="o">.</span><span class="n">div</span><span class="p">,</span> <span class="n">recursive</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>  <span class="c1"># type: ignore</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;p class=&quot;price&quot;&gt;Price: $10&lt;/p&gt;
</pre></div>
</div>
</div>
</div>
</section>
<section id="hasselector">
<h3>HasSelector<a class="headerlink" href="#hasselector" title="Link to this heading"></a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">HasSelector</span></code> is a counterpart of CSS <code class="docutils literal notranslate"><span class="pre">:has()</span></code> pseudo-class.<br />
According to <a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/CSS/:has">Mozilla</a>, this pseudo-class matches an element if any relative selectors passed as arguments match at least one element.</p>
<p><strong>CSS Example:</strong></p>
<div class="highlight-css notranslate"><div class="highlight"><pre><span></span><span class="p">:</span><span class="nd">has</span><span class="o">(&gt;</span><span class="w"> </span><span class="p">.</span><span class="nc">price</span><span class="o">)</span>
</pre></div>
</div>
<p>This selector matches any element that has a direct child with the class <code class="docutils literal notranslate"><span class="pre">price</span></code>.</p>
<section id="default-recursive-search">
<h4>Default Recursive Search<a class="headerlink" href="#default-recursive-search" title="Link to this heading"></a></h4>
<p>The default combinator for <code class="docutils literal notranslate"><span class="pre">HasSelector</span></code> is the descendant relationship. This means any selector passed to <code class="docutils literal notranslate"><span class="pre">HasSelector</span></code> that is not a relative selector will be treated as a relative descendant selector. As a result, if the parent of a matched element is selected, its ancestors will also be included in the selection.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span>

<span class="kn">from</span> <span class="nn">soupsavvy</span> <span class="kn">import</span> <span class="n">ClassSelector</span><span class="p">,</span> <span class="n">HasSelector</span>

<span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    &lt;div class=&quot;book&quot;&gt;</span>
<span class="sd">        &lt;span class=&quot;title&quot;&gt;Brave New World&lt;/span&gt;</span>
<span class="sd">        &lt;p class=&quot;price&quot;&gt;Price: $20&lt;/p&gt;</span>
<span class="sd">    &lt;/div&gt;</span>
<span class="sd">    &lt;div class=&quot;book&quot;&gt;</span>
<span class="sd">        &lt;span class=&quot;title&quot;&gt;Animal Farm&lt;/span&gt;</span>
<span class="sd">        &lt;span&gt;</span>
<span class="sd">            &lt;p class=&quot;price discount&quot;&gt;Price: $15&lt;/p&gt;</span>
<span class="sd">        &lt;/span&gt;</span>
<span class="sd">        &lt;p class=&quot;price&quot;&gt;Price: $20&lt;/p&gt;</span>
<span class="sd">    &lt;/div&gt;</span>
<span class="sd">    &quot;&quot;&quot;</span><span class="p">,</span>
    <span class="n">features</span><span class="o">=</span><span class="s2">&quot;html.parser&quot;</span><span class="p">,</span>
<span class="p">)</span>

<span class="n">selector</span> <span class="o">=</span> <span class="n">HasSelector</span><span class="p">(</span><span class="n">ClassSelector</span><span class="p">(</span><span class="s2">&quot;discount&quot;</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">element</span><span class="o">.</span><span class="n">prettify</span><span class="p">()</span> <span class="k">for</span> <span class="n">element</span> <span class="ow">in</span> <span class="n">selector</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="n">soup</span><span class="p">)))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;div class=&quot;book&quot;&gt;
 &lt;span class=&quot;title&quot;&gt;
  Animal Farm
 &lt;/span&gt;
 &lt;span&gt;
  &lt;p class=&quot;price discount&quot;&gt;
   Price: $15
  &lt;/p&gt;
 &lt;/span&gt;
 &lt;p class=&quot;price&quot;&gt;
  Price: $20
 &lt;/p&gt;
&lt;/div&gt;

&lt;span&gt;
 &lt;p class=&quot;price discount&quot;&gt;
  Price: $15
 &lt;/p&gt;
&lt;/span&gt;
</pre></div>
</div>
</div>
</div>
</section>
<section id="siblings-search">
<h4>Siblings Search<a class="headerlink" href="#siblings-search" title="Link to this heading"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">RelativeNextSibling</span></code> and <code class="docutils literal notranslate"><span class="pre">RelativeSubsequentSibling</span></code> can be used to select element with next/subsequent sibling that matches the selector.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span>

<span class="kn">from</span> <span class="nn">soupsavvy</span> <span class="kn">import</span> <span class="n">Anchor</span><span class="p">,</span> <span class="n">ClassSelector</span><span class="p">,</span> <span class="n">HasSelector</span>

<span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        &lt;p class=&quot;title&quot;&gt;Animal Farm&lt;/p&gt;</span>
<span class="sd">        &lt;span&gt;Hello World&lt;/span&gt;</span>
<span class="sd">        &lt;div class=&quot;section&quot;&gt;Brave New World&lt;/div&gt;</span>
<span class="sd">        &lt;p class=&quot;price&quot;&gt;Price: $30&lt;/p&gt;</span>
<span class="sd">    &quot;&quot;&quot;</span><span class="p">,</span>
    <span class="n">features</span><span class="o">=</span><span class="s2">&quot;lxml&quot;</span><span class="p">,</span>
<span class="p">)</span>

<span class="n">selector</span> <span class="o">=</span> <span class="n">HasSelector</span><span class="p">(</span><span class="n">Anchor</span> <span class="o">+</span> <span class="n">ClassSelector</span><span class="p">(</span><span class="s2">&quot;price&quot;</span><span class="p">))</span>
<span class="n">selector</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">soup</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;div class=&quot;section&quot;&gt;Brave New World&lt;/div&gt;
</pre></div>
</div>
</div>
</div>
</section>
<section id="ancestors-search">
<h4>Ancestors Search<a class="headerlink" href="#ancestors-search" title="Link to this heading"></a></h4>
<p>Combining <code class="docutils literal notranslate"><span class="pre">RelativeAncestor</span></code> and <code class="docutils literal notranslate"><span class="pre">RelativeParent</span></code> selectors with <code class="docutils literal notranslate"><span class="pre">HasSelector</span></code> allows you to find elements that have a specific ancestor or parent. For instance, you can locate all elements that have an ancestor with class <code class="docutils literal notranslate"><span class="pre">breaking</span></code>. Matched ancestor does not have to be descendant of <code class="docutils literal notranslate"><span class="pre">bs4</span></code> object.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span>

<span class="kn">from</span> <span class="nn">soupsavvy</span> <span class="kn">import</span> <span class="n">Anchor</span><span class="p">,</span> <span class="n">ClassSelector</span><span class="p">,</span> <span class="n">HasSelector</span>

<span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        &lt;div class=&quot;breaking&quot;&gt;</span>
<span class="sd">            &lt;span&gt;</span>
<span class="sd">                &lt;span class=&quot;info&quot;&gt;Important!&lt;/span&gt;</span>
<span class="sd">                &lt;span&gt;Actual Information&lt;/span&gt;</span>
<span class="sd">            &lt;/span&gt;</span>
<span class="sd">        &lt;/div&gt;</span>
<span class="sd">    &quot;&quot;&quot;</span><span class="p">,</span>
    <span class="n">features</span><span class="o">=</span><span class="s2">&quot;lxml&quot;</span><span class="p">,</span>
<span class="p">)</span>

<span class="n">span</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;span&quot;</span><span class="p">)</span>

<span class="n">selector</span> <span class="o">=</span> <span class="n">HasSelector</span><span class="p">(</span><span class="n">Anchor</span> <span class="o">&lt;&lt;</span> <span class="n">ClassSelector</span><span class="p">(</span><span class="s2">&quot;breaking&quot;</span><span class="p">))</span>
<span class="n">selector</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="n">span</span><span class="p">)</span>  <span class="c1"># type: ignore</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&lt;span class=&quot;info&quot;&gt;Important!&lt;/span&gt;, &lt;span&gt;Actual Information&lt;/span&gt;]
</pre></div>
</div>
</div>
</div>
</section>
</section>
</section>
<section id="nth-selectors">
<h2>Nth Selectors<a class="headerlink" href="#nth-selectors" title="Link to this heading"></a></h2>
<p>Selectors, that allow you to select the nth element that matches a specific selector.</p>
<p>While CSS offers pseudo-classes like <code class="docutils literal notranslate"><span class="pre">nth-child</span></code> and <code class="docutils literal notranslate"><span class="pre">nth-of-type</span></code> to select elements based on their ordinal position among siblings, these selectors only apply to the overall order of siblings.</p>
<p>For example, selecting every 2nd element with the class <code class="docutils literal notranslate"><span class="pre">price</span></code> in CSS is not feasible because:</p>
<div class="highlight-css notranslate"><div class="highlight"><pre><span></span><span class="p">.</span><span class="nc">price</span><span class="p">:</span><span class="nd">nth-child</span><span class="o">(</span><span class="nt">2n</span><span class="o">)</span>
</pre></div>
</div>
<p>selects the 2nd child that has the class <code class="docutils literal notranslate"><span class="pre">price</span></code>, not every 2nd <code class="docutils literal notranslate"><span class="pre">price</span></code> element.</p>
<p>In <code class="docutils literal notranslate"><span class="pre">soupsavvy</span></code>, you can achieve this with:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">NthOfSelector</span><span class="p">(</span><span class="n">ClassSelector</span><span class="p">(</span><span class="s1">&#39;price&#39;</span><span class="p">),</span> <span class="n">nth</span><span class="o">=</span><span class="s2">&quot;2n&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>This selector selects every 2nd element with the class <code class="docutils literal notranslate"><span class="pre">price</span></code>.</p>
<section id="nthofselector">
<h3>NthOfSelector<a class="headerlink" href="#nthofselector" title="Link to this heading"></a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">NthOfSelector</span></code> enables you to select elements based on a specified occurrence pattern defined by the <code class="docutils literal notranslate"><span class="pre">nth</span></code> rule. The provided <code class="docutils literal notranslate"><span class="pre">nth</span></code> parameter must follow valid CSS syntax (<code class="docutils literal notranslate"><span class="pre">&lt;An+B&gt;</span></code>, <code class="docutils literal notranslate"><span class="pre">even</span></code>, or <code class="docutils literal notranslate"><span class="pre">odd</span></code>).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span>

<span class="kn">from</span> <span class="nn">soupsavvy</span> <span class="kn">import</span> <span class="n">ClassSelector</span><span class="p">,</span> <span class="n">NthOfSelector</span>

<span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        &lt;span class=&quot;title&quot;&gt;Animal Farm&lt;/span&gt;</span>
<span class="sd">        &lt;p class=&quot;price discount&quot;&gt;Price: €1&lt;/p&gt;</span>
<span class="sd">        &lt;p class=&quot;price&quot;&gt;Price: $2&lt;/p&gt;</span>
<span class="sd">        &lt;span&gt;Bestseller&lt;/span&gt;</span>
<span class="sd">        &lt;p class=&quot;price&quot;&gt;Price: €3&lt;/p&gt;</span>
<span class="sd">        &lt;p class=&quot;price&quot;&gt;Price: €4&lt;/p&gt;</span>
<span class="sd">        &lt;p class=&quot;price&quot;&gt;Price: €5&lt;/p&gt;</span>
<span class="sd">    &quot;&quot;&quot;</span><span class="p">,</span>
    <span class="n">features</span><span class="o">=</span><span class="s2">&quot;lxml&quot;</span><span class="p">,</span>
<span class="p">)</span>

<span class="n">selector</span> <span class="o">=</span> <span class="n">NthOfSelector</span><span class="p">(</span><span class="n">ClassSelector</span><span class="p">(</span><span class="s2">&quot;price&quot;</span><span class="p">),</span> <span class="n">nth</span><span class="o">=</span><span class="s2">&quot;2n&quot;</span><span class="p">)</span>
<span class="n">selector</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="n">soup</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&lt;p class=&quot;price&quot;&gt;Price: $2&lt;/p&gt;, &lt;p class=&quot;price&quot;&gt;Price: €4&lt;/p&gt;]
</pre></div>
</div>
</div>
</div>
</section>
<section id="nthlastofselector">
<h3>NthLastOfSelector<a class="headerlink" href="#nthlastofselector" title="Link to this heading"></a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">NthLastOfSelector</span></code> functions similarly to the <code class="docutils literal notranslate"><span class="pre">NthOfSelector</span></code>, but it counts elements from the end of the list.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">re</span>

<span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span>

<span class="kn">from</span> <span class="nn">soupsavvy</span> <span class="kn">import</span> <span class="n">NthLastOfSelector</span><span class="p">,</span> <span class="n">PatternSelector</span>

<span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        &lt;span class=&quot;title&quot;&gt;Animal Farm&lt;/span&gt;</span>
<span class="sd">        &lt;p class=&quot;price discount&quot;&gt;Price: €1&lt;/p&gt;</span>
<span class="sd">        &lt;p&gt;Price: $2&lt;/p&gt;</span>
<span class="sd">        &lt;span&gt;Bestseller&lt;/span&gt;</span>
<span class="sd">        &lt;p class=&quot;price&quot;&gt;Price: €3&lt;/p&gt;</span>
<span class="sd">        &lt;p&gt;Price: €4&lt;/p&gt;</span>
<span class="sd">        &lt;p class=&quot;price&quot;&gt;Price: €5&lt;/p&gt;</span>
<span class="sd">    &quot;&quot;&quot;</span><span class="p">,</span>
    <span class="n">features</span><span class="o">=</span><span class="s2">&quot;lxml&quot;</span><span class="p">,</span>
<span class="p">)</span>

<span class="n">selector</span> <span class="o">=</span> <span class="n">NthLastOfSelector</span><span class="p">(</span>
    <span class="n">PatternSelector</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="s2">&quot;^price&quot;</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">IGNORECASE</span><span class="p">)),</span>
    <span class="n">nth</span><span class="o">=</span><span class="s2">&quot;odd&quot;</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">selector</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="n">soup</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&lt;p class=&quot;price discount&quot;&gt;Price: €1&lt;/p&gt;,
 &lt;p class=&quot;price&quot;&gt;Price: €3&lt;/p&gt;,
 &lt;p class=&quot;price&quot;&gt;Price: €5&lt;/p&gt;]
</pre></div>
</div>
</div>
</div>
</section>
<section id="onlyofselector">
<h3>OnlyOfSelector<a class="headerlink" href="#onlyofselector" title="Link to this heading"></a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">OnlyOfSelector</span></code> selects an element only if it is the <strong>sole</strong> matching element among its siblings.<br />
If more than one element matches the specified selector, none will be selected.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span>

<span class="kn">from</span> <span class="nn">soupsavvy</span> <span class="kn">import</span> <span class="n">ClassSelector</span><span class="p">,</span> <span class="n">OnlyOfSelector</span>

<span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    &lt;div class=&quot;book&quot;&gt;</span>
<span class="sd">        &lt;span class=&quot;title&quot;&gt;Animal Farm&lt;/span&gt;</span>
<span class="sd">        &lt;p class=&quot;price&quot;&gt;Price: $15&lt;/p&gt;</span>
<span class="sd">        &lt;p class=&quot;price&quot;&gt;Price: $20&lt;/p&gt;</span>
<span class="sd">    &lt;/div&gt;</span>
<span class="sd">    &lt;div class=&quot;book&quot;&gt;</span>
<span class="sd">        &lt;span class=&quot;title&quot;&gt;Frankenstein&lt;/span&gt;</span>
<span class="sd">        &lt;p class=&quot;price&quot;&gt;Price: $30&lt;/p&gt;</span>
<span class="sd">    &lt;/div&gt;</span>
<span class="sd">    &quot;&quot;&quot;</span><span class="p">,</span>
    <span class="n">features</span><span class="o">=</span><span class="s2">&quot;html.parser&quot;</span><span class="p">,</span>
<span class="p">)</span>

<span class="n">selector</span> <span class="o">=</span> <span class="n">OnlyOfSelector</span><span class="p">(</span><span class="n">ClassSelector</span><span class="p">(</span><span class="s2">&quot;price&quot;</span><span class="p">))</span>
<span class="n">selector</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">soup</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;p class=&quot;price&quot;&gt;Price: $30&lt;/p&gt;
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="operators-module">
<h2>Operators module<a class="headerlink" href="#operators-module" title="Link to this heading"></a></h2>
<p>As an alternative way to combine selectors, <code class="docutils literal notranslate"><span class="pre">soupsavvy</span></code> provides convenient operator functions in <code class="docutils literal notranslate"><span class="pre">soupsavvy.operators</span></code> module, offering shortcuts for composite selectors:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">and_</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">AndSelector</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">or_</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">SelectorList</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">is_</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">SelectorList</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">where</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">SelectorList</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">not_</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">NotSelector</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">has</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">HasSelector</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">xor</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">XORSelector</span></code></p></li>
</ul>
<p>These functions can enhance clarity and conciseness in some context.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">soupsavvy</span> <span class="kn">import</span> <span class="n">ClassSelector</span><span class="p">,</span> <span class="n">TypeSelector</span>
<span class="kn">from</span> <span class="nn">soupsavvy.operators</span> <span class="kn">import</span> <span class="n">and_</span>

<span class="n">and_</span><span class="p">(</span><span class="n">ClassSelector</span><span class="p">(</span><span class="s2">&quot;price&quot;</span><span class="p">),</span> <span class="n">TypeSelector</span><span class="p">(</span><span class="s2">&quot;p&quot;</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>AndSelector(ClassSelector(&#39;price&#39;), TypeSelector(name=&#39;p&#39;))
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">soupsavvy</span> <span class="kn">import</span> <span class="n">ClassSelector</span><span class="p">,</span> <span class="n">TypeSelector</span>
<span class="kn">from</span> <span class="nn">soupsavvy.operators</span> <span class="kn">import</span> <span class="n">has</span>

<span class="n">has</span><span class="p">(</span><span class="n">ClassSelector</span><span class="p">(</span><span class="s2">&quot;price&quot;</span><span class="p">),</span> <span class="n">TypeSelector</span><span class="p">(</span><span class="s2">&quot;p&quot;</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>HasSelector(ClassSelector(&#39;price&#39;), TypeSelector(name=&#39;p&#39;))
</pre></div>
</div>
</div>
</div>
</section>
<section id="conclusion">
<h2>Conclusion<a class="headerlink" href="#conclusion" title="Link to this heading"></a></h2>
<p><code class="docutils literal notranslate"><span class="pre">soupsavvy</span></code> provides a wide range of composite selectors, that can be used to create more complex search criteria. Designed for flexibility and easy customization, these selectors allow you to tailor your selectors to meet specific needs.</p>
<p><strong>Enjoy <code class="docutils literal notranslate"><span class="pre">soupsavvy</span></code> and leave us feedback!</strong><br />
<strong>Happy scraping!</strong></p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="selectors.html" class="btn btn-neutral float-left" title="Selectors" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="css.html" class="btn btn-neutral float-right" title="CSS Selectors" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, soupsavvy.</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>